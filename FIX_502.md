# Fixing 502 Bad Gateway Error

## Problem
The app shows 502 Bad Gateway because:
1. **No dynos are running** - The app hasn't been deployed yet
2. **Environment variables not set** - Required config vars are missing
3. **App failed to start** - Needs deployment

## Solution

### Step 1: Set Environment Variables

First, set the required environment variables:

```bash
cd /Users/jasonshulman/Documents/GitHub/colorado-careassist-portal

# Get your Google OAuth credentials from your sales dashboard
# Then set them:
heroku config:set GOOGLE_CLIENT_ID=your_client_id --app portal-coloradocareassist
heroku config:set GOOGLE_CLIENT_SECRET=your_client_secret --app portal-coloradocareassist
heroku config:set GOOGLE_REDIRECT_URI=https://portal-coloradocareassist-3e1a4bb34793.herokuapp.com/auth/callback --app portal-coloradocareassist
heroku config:set APP_SECRET_KEY=$(python3 -c "import secrets; print(secrets.token_urlsafe(32))") --app portal-coloradocareassist
heroku config:set ALLOWED_DOMAINS=coloradocareassist.com --app portal-coloradocareassist
```

### Step 2: Deploy the App

```bash
cd /Users/jasonshulman/Documents/GitHub/colorado-careassist-portal
git push heroku main
```

### Step 3: Check Deployment

```bash
# Check if dynos are running
heroku ps --app portal-coloradocareassist

# View logs
heroku logs --tail --app portal-coloradocareassist
```

### Step 4: Initialize Database

After successful deployment:

```bash
heroku run python portal_setup.py --app portal-coloradocareassist
```

## Quick Check Commands

```bash
# Check app status
heroku ps --app portal-coloradocareassist

# Check config
heroku config --app portal-coloradocareassist

# Check logs
heroku logs --tail --app portal-coloradocareassist

# Restart app
heroku restart --app portal-coloradocareassist
```

## About the Errors

1. **"duplicate id pageMenu"** - This is a browser extension error, not your app. Ignore it.

2. **502 Bad Gateway for /favicon.ico** - This happens because the app isn't running. Once deployed, this will be fixed.

## Status Check

Run this to see what's missing:

```bash
heroku config --app portal-coloradocareassist | grep -E "GOOGLE_CLIENT_ID|GOOGLE_CLIENT_SECRET|APP_SECRET_KEY"
```

If you see empty output, you need to set the environment variables first.

